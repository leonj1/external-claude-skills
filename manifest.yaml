# ~/.claude/skills/manifest.yaml

# =============================================================================
# SKILLS: The actual capabilities (flat list, with dependencies)
# =============================================================================
skills:
  # Docker
  backend-docker:
    description: "Backend project Docker container setup"
    path: skills/repo/backend/docker
    depends_on: []

  backend-tests-docker:
    description: "Backend tests Docker container setup"
    path: skills/repo/backend/tests
    depends_on: [backend-docker]

  frontend-docker:
    description: "Frontend project Docker container setup"
    path: skills/repo/frontend/docker
    depends_on: []

  frontend-tests-docker:
    description: "Frontend tests Docker container setup"
    path: skills/repo/frontend/tests
    depends_on: [frontend-docker]

  # Project Setup
  project-makefile:
    description: "Project Makefile with Docker lifecycle targets (build, stop, start, restart, test)"
    path: skills/repo/setup
    depends_on: [backend-docker, frontend-docker, frontend-tests-docker, backend-tests-docker]

  # Claude Code Skills
  code-searcher:
    description: "Delegates codebase searches to a lightweight agent. Use when searching for existing implementations, classes, or functions without loading search results into context."
    path: skills/code-searcher
    depends_on: []

  context-initializer:
    description: "Automatically invokes init-explorer agent when project context is empty or unknown."
    path: skills/context-initializer
    depends_on: []

  docker-backend:
    description: "Dockerizes backend projects with auto-detection, latest base images via web search, Dockerfile generation, and Makefile with port override support."
    path: skills/docker-backend
    depends_on: []

  exa-websearch:
    description: "Uses Exa API for intelligent web searches. Provides up-to-date information with semantic search capabilities."
    path: skills/exa-websearch
    depends_on: []

  fastapi-clean-architecture:
    description: "Transforms bloated FastAPI handlers into a clean layered architecture with thin handlers, service classes, repositories, and domain exceptions."
    path: skills/fastapi-clean-architecture
    depends_on: []

  strict-architecture:
    description: "Enforces universal strict governance rules (500 lines, 5 funcs, 4 args) and interface-first I/O for Python, Golang, and .NET."
    path: skills/strict-architecture
    depends_on: []

  tech-stack-analyzer:
    description: "Delegates tech stack detection to a lightweight agent. Use when you need to know the project's language, frameworks, or dependencies without loading manifest files into context."
    path: skills/tech-stack-analyzer
    depends_on: []

  test-pattern-detector:
    description: "Delegates test pattern detection to a lightweight agent. Use when you need to understand existing test conventions without loading test files into context."
    path: skills/test-pattern-detector
    depends_on: []

  violation-scanner:
    description: "Delegates coding standards violation scanning to a lightweight agent. Use when checking files for violations without loading full source files into context."
    path: skills/violation-scanner
    depends_on: []

  flyway-backend-docker:
    description: "Setup backend project with Flyway SQL migrations, tini init system, Docker container, and MySQL integration testing."
    path: skills/data/flyway-backend-docker
    depends_on: []


# =============================================================================
# TASKS: What users ask for (maps to one or more skills)
# =============================================================================
tasks:
  # Project Setup
  local-dev-setup:
    description: "Setup a git repo project for local development with Docker and Makefile"
    triggers:
      - "add Makefile"
      - "setup Makefile"
      - "setup make"
      - "setup project to local development"
    skills: [project-makefile]


# =============================================================================
# CATEGORIES: Optional grouping for browsing/discovery (not required for routing)
# =============================================================================
categories:
  git-project-setup:
    description: "Setup a git project"
    tasks: [local-dev-setup]

  #web-development:
  #  description: "Websites and web applications"
  #  tasks: [static-website, documentation-site, admin-panel, customer-portal]
  #  
  #backend:
  #  description: "APIs and backend services"
  #  tasks: [rest-api, serverless-api]
  #  
  #infrastructure:
  #  description: "Cloud infrastructure and DevOps"
  #  tasks: [kubernetes-setup]
  #  # Also exposes raw skills for direct access
  #  skills: [terraform-base, aws-static-hosting, aws-ecs-deployment, aws-lambda-deployment, eks-cluster]
